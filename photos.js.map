{"version":3,"file":"photos.js","sources":["../src/js/photos/markup.js","../src/js/photos/pexelsAPI.js","../src/js/photos/refs.js","../src/js/photos/photos.js"],"sourcesContent":["export const createMarkup = photos => {\n  return photos\n    .map(\n      ({ src, alt }) => `<li class=\"gallery__item\">\n   <a href=\"${src.large}\"> <img src=\"${src.medium}\" alt=\"${alt}\" class=\"gallery-img\"></a>\n</li>`\n    )\n    .join('');\n};\n","import axios from 'axios';\n\nconst API_KEY = '563492ad6f9170000100000108dc2880626e4436b3634ce1cf6b4d74';\n\naxios.defaults.headers.common['Authorization'] = API_KEY;\naxios.defaults.baseURL = 'https://api.pexels.com/v1';\naxios.defaults.params = {\n  color: 'black',\n  orientation: 'landscape',\n  per_page: 20,\n};\n\nexport const fetchPhotos = async function (query) {\n  const { data } = await axios.get(`/search?query=${query}`);\n\n  return data;\n};\n","export const refs = {\n  form: document.querySelector('.js-search-form'),\n  gallery: document.querySelector('.js-gallery'),\n  loader: document.querySelector('.js-loader'),\n};\n","import { createMarkup } from './markup';\nimport { fetchPhotos } from './pexelsAPI';\nimport { refs } from './refs';\nimport iziToast from 'izitoast';\nimport Simplelightbox from 'simplelightbox';\n\nconst lightbox = new Simplelightbox('.js-gallery a');\n\nconst onSubmit = async function (e) {\n  e.preventDefault();\n  const query = e.target.elements['query'].value.trim();\n  if (query === '') {\n    showMessage('Input cannot be empty', 'error');\n    return;\n  }\n  refs.loader.classList.remove('is-hidden');\n  try {\n    const { photos } = await fetchPhotos(query);\n    showMessage('We found photos matching your query', 'success');\n    const markup = createMarkup(photos);\n    refs.gallery.innerHTML = markup;\n    lightbox.refresh();\n  } catch (error) {\n    showMessage(`Something went wrong ${error.message}`, 'error');\n  } finally {\n    refs.loader.classList.add('is-hidden');\n  }\n};\n\nrefs.form.addEventListener('submit', onSubmit);\n\nconst showMessage = function (message, type = 'info') {\n  iziToast[type]({\n    message,\n    position: 'topRight',\n  });\n};\n"],"names":["createMarkup","photos","src","alt","API_KEY","axios","fetchPhotos","query","data","refs","lightbox","Simplelightbox","onSubmit","e","showMessage","markup","error","message","type","iziToast"],"mappings":"kHAAO,MAAMA,EAAeC,GACnBA,EACJ,IACC,CAAC,CAAE,IAAAC,EAAK,IAAAC,CAAG,IAAO;AAAA,cACVD,EAAI,KAAK,gBAAgBA,EAAI,MAAM,UAAUC,CAAG;AAAA,MAE9D,EACK,KAAK,EAAE,ECLNC,EAAU,2DAEhBC,EAAM,SAAS,QAAQ,OAAO,cAAmBD,EACjDC,EAAM,SAAS,QAAU,4BACzBA,EAAM,SAAS,OAAS,CACtB,MAAO,QACP,YAAa,YACb,SAAU,EACZ,EAEO,MAAMC,EAAc,eAAgBC,EAAO,CAChD,KAAM,CAAE,KAAAC,CAAM,EAAG,MAAMH,EAAM,IAAI,iBAAiBE,CAAK,EAAE,EAEzD,OAAOC,CACT,EChBaC,EAAO,CAClB,KAAM,SAAS,cAAc,iBAAiB,EAC9C,QAAS,SAAS,cAAc,aAAa,EAC7C,OAAQ,SAAS,cAAc,YAAY,CAC7C,ECEMC,EAAW,IAAIC,EAAe,eAAe,EAE7CC,EAAW,eAAgBC,EAAG,CAClCA,EAAE,eAAgB,EAClB,MAAMN,EAAQM,EAAE,OAAO,SAAS,MAAS,MAAM,KAAM,EACrD,GAAIN,IAAU,GAAI,CAChBO,EAAY,wBAAyB,OAAO,EAC5C,MACJ,CACEL,EAAK,OAAO,UAAU,OAAO,WAAW,EACxC,GAAI,CACF,KAAM,CAAE,OAAAR,CAAM,EAAK,MAAMK,EAAYC,CAAK,EAC1CO,EAAY,sCAAuC,SAAS,EAC5D,MAAMC,EAASf,EAAaC,CAAM,EAClCQ,EAAK,QAAQ,UAAYM,EACzBL,EAAS,QAAS,CACnB,OAAQM,EAAO,CACdF,EAAY,wBAAwBE,EAAM,OAAO,GAAI,OAAO,CAChE,QAAY,CACRP,EAAK,OAAO,UAAU,IAAI,WAAW,CACzC,CACA,EAEAA,EAAK,KAAK,iBAAiB,SAAUG,CAAQ,EAE7C,MAAME,EAAc,SAAUG,EAASC,EAAO,OAAQ,CACpDC,EAASD,CAAI,EAAE,CACb,QAAAD,EACA,SAAU,UACd,CAAG,CACH"}