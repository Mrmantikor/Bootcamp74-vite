import"./assets/modulepreload-polyfill-B5Qt9EMX.js";import{a as l,S as L,i as b}from"./assets/vendor-BjB2DiSq.js";const u=e=>e.map(({src:t,alt:r})=>`<li class="gallery__item">
   <a href="${t.large}"> <img src="${t.medium}" alt="${r}" class="gallery-img"></a>
</li>`).join(""),q="563492ad6f9170000100000108dc2880626e4436b3634ce1cf6b4d74";l.defaults.headers.common.Authorization=q;l.defaults.baseURL="https://api.pexels.com/v1";l.defaults.params={color:"black",orientation:"landscape",per_page:20};const h=async function(e,t){const{data:r}=await l.get(`/search?query=${e}&page=${t}`);return r},o={form:document.querySelector(".js-search-form"),gallery:document.querySelector(".js-gallery"),loader:document.querySelector(".js-loader"),loadmore:document.querySelector(".js-load-more")},g=new L(".js-gallery a");let s=1,i="",d=0;const S=async function(e){if(e.preventDefault(),i=e.target.elements.query.value.trim(),s=1,e.target.reset(),i===""){a("Input cannot be empty","error");return}o.loader.classList.remove("is-hidden"),o.loadmore.classList.add("is-hidden");try{const{photos:t,per_page:r,total_results:c}=await h(i,s);if(!t.length){o.loadmore.classList.add("is-hidden"),o.gallery.innerHTML="",a("We don't found photos matching your query","error");return}d=Math.ceil(c/r),s<d&&o.loadmore.classList.remove("is-hidden"),a("We found photos matching your query","success");const n=u(t);o.gallery.innerHTML=n,g.refresh()}catch(t){a(`Something went wrong ${t.message}`,"error")}finally{o.loader.classList.add("is-hidden")}};o.form.addEventListener("submit",S);const a=function(e,t="info"){b[t]({message:e,position:"topRight"})};o.loadmore.addEventListener("click",async()=>{s++,s===d&&o.loadmore.classList.add("is-hidden"),o.loader.classList.remove("is-hidden");try{const{photos:e}=await h(i,s),t=u(e);o.gallery.insertAdjacentHTML("beforeend",t);const r=o.gallery.children[0].getBoundingClientRect().height;v(r*2,1e3),g.refresh()}catch(e){a(`Something went wrong ${e.message}`,"error")}finally{o.loader.classList.add("is-hidden")}});const v=(e,t)=>{const r=window.scrollY,c=performance.now(),n=p=>{const f=p-c,m=Math.min(f/t,1),y=r+e*(w=>1-Math.pow(1-w,3))(m);window.scrollTo(0,y),m<1&&requestAnimationFrame(n)};requestAnimationFrame(n)};
//# sourceMappingURL=photos.js.map
